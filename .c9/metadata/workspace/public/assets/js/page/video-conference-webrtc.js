{"changed":false,"filter":false,"title":"video-conference-webrtc.js","tooltip":"/public/assets/js/page/video-conference-webrtc.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":295,"column":20},"end":{"row":295,"column":21},"action":"insert","lines":["l"],"id":194}],[{"start":{"row":295,"column":21},"end":{"row":295,"column":22},"action":"insert","lines":["o"],"id":195}],[{"start":{"row":295,"column":22},"end":{"row":295,"column":23},"action":"insert","lines":["g"],"id":196}],[{"start":{"row":295,"column":23},"end":{"row":295,"column":25},"action":"insert","lines":["()"],"id":197}],[{"start":{"row":295,"column":25},"end":{"row":295,"column":26},"action":"insert","lines":[";"],"id":198}],[{"start":{"row":295,"column":24},"end":{"row":295,"column":25},"action":"insert","lines":["e"],"id":199}],[{"start":{"row":295,"column":25},"end":{"row":295,"column":26},"action":"insert","lines":["l"],"id":200}],[{"start":{"row":292,"column":4},"end":{"row":292,"column":24},"action":"remove","lines":["if (remotes && el) {"],"id":205}],[{"start":{"row":302,"column":4},"end":{"row":302,"column":5},"action":"remove","lines":["}"],"id":206}],[{"start":{"row":111,"column":0},"end":{"row":136,"column":3},"action":"remove","lines":["var webrtc = new SimpleWebRTC({","    // the id/element dom element that will hold \"our\" video","    localVideoEl: 'localVideo',","    // the id/element dom element that will hold remote videos","    remoteVideosEl: '',","    // immediately ask for camera access","    autoRequestMedia: false,","    debug: true,","    localVideo: {","        autoplay: true, // automatically play the video stream on the page","        mirror: false, // flip the local video to mirror mode (for UX)","        muted: true // mute local video stream to prevent echo","    },","    media: {","        video: {","            mandatory: {","                maxFrameRate: 60,","                maxWidth: 535,","                maxHeight: 480","            }","        },","        audio: true","    },","    //url: 'https://laravel.software:8888'","   url: 'https://job.tc:9999'","});"],"id":207},{"start":{"row":111,"column":0},"end":{"row":204,"column":15},"action":"insert","lines":["//default media options","var mediaOptions = {","    audio: true,","    video: true","};","","var audioDevices = [];","var videoDevices = [];","var audioInputSelect = document.querySelector('select#audio-input-list');","var videoSelect = document.querySelector('select#video-camera-list');","    navigator.mediaDevices.enumerateDevices().then(function (devices) {","      for (var i = 0; i !== devices.length; ++i) {","          var device = devices[i];","          if (device.kind === 'audioinput') {","              audioDevices.push(device);","              device.label = device.label || 'microphone ' + (audioDevices.length + 1);","              var option = document.createElement('option');","              option.value = device.deviceId;","              option.text = device.label || 'microphone ' + (audioDevices.length + 1);","              ","              audioInputSelect.appendChild(option);","              $('#audio-input-list option').attr('data-content',\"<i class='glyphicon glyphicon-volume-up'></i>\");","              ","              if(localStorage.getItem('audio') == null) {","                  ","                  mediaOptions.audio = {","                      deviceId: device.deviceId","                  };","                  ","                  console.log('Media Options Audio: '+mediaOptions.audio.deviceId);","              } else {","                  ","                mediaOptions.audio = {","                      deviceId: localStorage.getItem('audio')","                  };  ","                  ","                $('#audio-input-list').val(localStorage.getItem('audio'));    ","              }","              ","          } else if (device.kind === 'videoinput') {","              device.label = device.label || 'camera ' + (videoDevices.length + 1);","              videoDevices.push(device);","              console.log(device);","              var option = document.createElement('option');","              option.value = device.deviceId;","              option.text = device.label || 'camera ' + (videoDevices.length + 1);","              videoSelect.appendChild(option);","              ","              if(localStorage.getItem('video') == null) {","                  mediaOptions.video = {","                      deviceId: device.deviceId","                  };","                  ","                  console.log('Media Options Video: '+mediaOptions.video.deviceId);","              } else {","                  ","                mediaOptions.video = {","                      deviceId: localStorage.getItem('video')","                  };  ","                  ","                $('#video-camera-list').val(localStorage.getItem('video'));    ","              }","          }","      }","});","","//Make all video containers resizable","$( \"#localVideoContainer\" ).resizable({","    containment: \"#discussions-container\",","    minHeight: 350,","    minWidth: 350,","    grid: 50","});",""," webrtc = new SimpleWebRTC({","                     // the id/element dom element that will hold \"our\" video","                    localVideoEl: 'localVideoEl',","                    // the id/element dom element that will hold remote videos","                    remoteVideosEl: '',","                    // immediately ask for camera access","                    autoRequestMedia: false,","                    debug: true,","                    localVideo: {","                        autoplay: true, // automatically play the video stream on the page","                        mirror: false, // flip the local video to mirror mode (for UX)","                        muted: true // mute local video stream to prevent echo","                    },","                    //peerConnectionConfig:{ iceTransports: 'relay' },","                    mediaOptions: mediaOptions,","                    enableDataChannels: true,","                    detectSpeakingEvents: false,","                    nick: display_name,    ","                    url: 'https://job.tc:9999'","            });"]}],[{"start":{"row":185,"column":1},"end":{"row":185,"column":2},"action":"insert","lines":["v"],"id":208}],[{"start":{"row":185,"column":2},"end":{"row":185,"column":3},"action":"insert","lines":["a"],"id":209}],[{"start":{"row":185,"column":3},"end":{"row":185,"column":4},"action":"insert","lines":["r"],"id":210}],[{"start":{"row":185,"column":4},"end":{"row":185,"column":5},"action":"insert","lines":[" "],"id":211}],[{"start":{"row":185,"column":0},"end":{"row":185,"column":1},"action":"remove","lines":[" "],"id":212}],[{"start":{"row":187,"column":46},"end":{"row":187,"column":47},"action":"remove","lines":["l"],"id":213}],[{"start":{"row":187,"column":45},"end":{"row":187,"column":46},"action":"remove","lines":["E"],"id":214}],[{"start":{"row":309,"column":16},"end":{"row":310,"column":0},"action":"insert","lines":["",""],"id":215},{"start":{"row":310,"column":0},"end":{"row":310,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":310,"column":12},"end":{"row":311,"column":0},"action":"insert","lines":["",""],"id":216},{"start":{"row":311,"column":0},"end":{"row":311,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":311,"column":12},"end":{"row":312,"column":0},"action":"insert","lines":["",""],"id":217},{"start":{"row":312,"column":0},"end":{"row":312,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":312,"column":12},"end":{"row":313,"column":0},"action":"insert","lines":["",""],"id":218},{"start":{"row":313,"column":0},"end":{"row":313,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":313,"column":12},"end":{"row":314,"column":0},"action":"insert","lines":["",""],"id":219},{"start":{"row":314,"column":0},"end":{"row":314,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":311,"column":12},"end":{"row":425,"column":0},"action":"insert","lines":["  participant_count++;","                    ","                ","            var videoTag = $('#localVideoEl')[0];","            /*var remoteVideoOptions = '<div class=\"remote_video_options center-block\">' +","                    '<button id=\"set-video-' + peer.stream.id + '\" class=\"btn btn-small set-video\">Set as Main Video</button>' +","                    '<button class=\"btn btn-small full-screen\"><i class=\"fa fa-arrows-alt\" aria-hidden=\"true\"></i></button>' +","                    '<input class=\"participant_id\" type=\"hidden\" value=\"' + participant_count + '\"/>' +","                    '<input class=\"stream_id\" type=\"hidden\" value=\"' + webrtc.getDomId(peer) + '\">' +","                    '</div>';*/","            ","            var remoteVideoOptions = '<div class=\"row\">'+","                                    '<div class=\"col-xs-5\">'+","                                        '<button class=\"btn record\"><i class=\"material-icons\">fiber_manual_record</i><span class=\"record-text\">Record</span></button>'+","                                        '<input class=\"stream_id\" type=\"hidden\" value=\"' + webrtc.getDomId(peer) + '\">' +","                                        '<input class=\"participant_id\" type=\"hidden\" value=\"' + participant_count + '\"/>' +","                                        '<input class=\"video_type\" type=\"hidden\" value=\"remote\" />'+","                                    '</div>'+","                                    '<div class=\"col-xs-7\">'+","                                        '<div class=\"btn-group\" role=\"group\" aria-label=\"Remote Media Options\">'+","                                            '<button class=\"btn  stop-video\"><i class=\"material-icons\">videocam</i></button>'+            ","                                            '<button class=\"btn  mute\"><i class=\"material-icons\">mic</i></button>'+","                                            '<button class=\"btn full-screen\"><i class=\"material-icons\">fullscreen</i></button>' +","                                            '<input class=\"participant_id\" type=\"hidden\" value=\"' + participant_count + '\"/>' +","                                            '<input class=\"stream_id\" type=\"hidden\" value=\"' + webrtc.getDomId(peer) + '\">' +","                                            '<input class=\"video_type\" type=\"hidden\" value=\"remote\"/>'","                                        '</div>'+","                                    '</div>'+","                                '</div>';","            ","            ","            var collapseContainer = '<div class=\"col-xs-3 remote-video\" id=\"remoteVideo-' + participant_count + '\"><div class=\"panel-group\">'+","    '<div class=\"panel panel-default\">'+","      '<div class=\"panel-heading\">'+","        '<h4 class=\"panel-title\">'+","          '<a data-toggle=\"collapse\" href=\"#remote-video-collapse-'+participant_count+'\">'+peer.nick+'</a>'+","        '</h4>'+","      '</div>'+","      '<div id=\"remote-video-collapse-'+participant_count+'\" class=\"panel-collapse collapse in\">'+","        '<div class=\"panel-body\">'+","        '<div class=\"row\">'+","            '<div class=\"col-xs-5\">'+","                '<div class=\"blink hidden\"><i class=\"fa fa-circle text-danger\"></i>&nbsp;<span class=\"blink-text\">Recording</span></div>'+","            '</div>'+","            '<div class=\"col-xs-7\">'+","                '<div id=\"progress\" class=\"progress hidden\">'+","                    '<div style=\"color:#000;font-weight:bold\" class=\"progress-bar progress-bar-success\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\">Processing 0% Complete'+","                    '</div>'+","                    '</div>'+","                    '<input class=\"processing-percent\" type=\"hidden\" value=\"0\"/>'+","            '</div>'+","        '</div>'+","        '<input class=\"participant_id\" type=\"hidden\" value=\"' + participant_count + '\"/>' +","        '</div>'+","        '<div class=\"panel-footer\">'+remoteVideoOptions+'</div>'+","      '</div>'+","    '</div>'+","  '</div></div>';","            ","            var remoteVideoContainer = \"<div class='col-xs-12' id='remoteVideo-\" + participant_count + \"'>\" + remoteVideoOptions + \"</div>\";","            ","              $('body').on('click','#set-video-'+peer.stream.id,function () {","    ","                //video.style.height = '640px';","                //video.style.width = '1080px';","                video.id = 'remote-'+peer.stream.id;","                //$('#localVideo video').remove();","                //$('#localVideo').append(video);","                //document.getElementById('localScreen').removeChild(video);","                ","                //$('#localVideoContainer').attr('class','col-xs-9');","                //$('#chat-box-container').attr('class','col-xs-3');","                //$('#localVideoEl').hide();","                //$('#localVideo').append(video);","                //video.clone().appendTo('#localVideo');","                videoTag.srcObject = peer.stream;","                mainVideo = peer.stream;","                ","                $(this).text('Reset Video');","                ","                $(this).attr('id','reset-video-'+peer.stream.id);","                ","                    ","                var remotevideo = $('#remote-'+peer.stream.id).get(0);","                remotevideo.play();","                console.log('Setting as main video');","    });","    ","    $('body').on('click','#reset-video-'+peer.stream.id,function(){","       console.log('Resetting Video'); ","       ","       //$('#localVideoEl').show();","       //$('#remote-'+peer.stream.id).remove();","       $(this).attr('id','set-video-'+peer.stream.id);","       videoTag.srcObject = localStream;","       mainVideo = localStream;","       $(this).text('Set as Main Video');","       //$('#localVideo video').remove();","       //$('#localVideo').append(localStream);","       ","    });","            console.log('hasAudio: '+JSON.stringify(mediaOptions.audio));","            console.log('hasVideo: '+JSON.stringify(mediaOptions.video));","            $(\"#remoteVideo\").append(collapseContainer);","            //$(\"#remoteVideo-\" + participant_count).prepend(video);","            $(\"#remote-video-collapse-\" + participant_count+' .panel-body').prepend(video);","            ","            $('#remoteVideo-'+participant_count).resizable({","                 containment: \"#discussions-container\",","                 minHeight: 350,","                 minWidth: 350,","                 grid: 50","            });","        }",""],"id":220}],[{"start":{"row":424,"column":8},"end":{"row":424,"column":9},"action":"remove","lines":["}"],"id":221}],[{"start":{"row":424,"column":8},"end":{"row":428,"column":8},"action":"remove","lines":["","","            ","            ","        "],"id":222}],[{"start":{"row":296,"column":63},"end":{"row":297,"column":0},"action":"insert","lines":["",""],"id":223},{"start":{"row":297,"column":0},"end":{"row":297,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":297,"column":4},"end":{"row":297,"column":5},"action":"insert","lines":["v"],"id":224}],[{"start":{"row":297,"column":5},"end":{"row":297,"column":6},"action":"insert","lines":["a"],"id":225}],[{"start":{"row":297,"column":6},"end":{"row":297,"column":7},"action":"insert","lines":["r"],"id":226}],[{"start":{"row":297,"column":7},"end":{"row":297,"column":8},"action":"insert","lines":[" "],"id":227}],[{"start":{"row":297,"column":8},"end":{"row":297,"column":9},"action":"insert","lines":["p"],"id":228}],[{"start":{"row":297,"column":9},"end":{"row":297,"column":10},"action":"insert","lines":["a"],"id":229}],[{"start":{"row":297,"column":10},"end":{"row":297,"column":11},"action":"insert","lines":["r"],"id":230}],[{"start":{"row":297,"column":11},"end":{"row":297,"column":12},"action":"insert","lines":["t"],"id":231}],[{"start":{"row":297,"column":12},"end":{"row":297,"column":13},"action":"insert","lines":["i"],"id":232}],[{"start":{"row":297,"column":13},"end":{"row":297,"column":14},"action":"insert","lines":["c"],"id":233}],[{"start":{"row":297,"column":14},"end":{"row":297,"column":15},"action":"insert","lines":["i"],"id":234}],[{"start":{"row":297,"column":15},"end":{"row":297,"column":16},"action":"insert","lines":["p"],"id":235}],[{"start":{"row":297,"column":16},"end":{"row":297,"column":17},"action":"insert","lines":["a"],"id":236}],[{"start":{"row":297,"column":17},"end":{"row":297,"column":18},"action":"insert","lines":["n"],"id":237}],[{"start":{"row":297,"column":18},"end":{"row":297,"column":19},"action":"insert","lines":["t"],"id":238}],[{"start":{"row":297,"column":19},"end":{"row":297,"column":20},"action":"insert","lines":["_"],"id":239}],[{"start":{"row":297,"column":20},"end":{"row":297,"column":21},"action":"insert","lines":["i"],"id":240}],[{"start":{"row":297,"column":21},"end":{"row":297,"column":22},"action":"insert","lines":["d"],"id":241}],[{"start":{"row":297,"column":21},"end":{"row":297,"column":22},"action":"remove","lines":["d"],"id":242}],[{"start":{"row":297,"column":20},"end":{"row":297,"column":21},"action":"remove","lines":["i"],"id":243}],[{"start":{"row":297,"column":20},"end":{"row":297,"column":21},"action":"insert","lines":["c"],"id":244}],[{"start":{"row":297,"column":21},"end":{"row":297,"column":22},"action":"insert","lines":["o"],"id":245}],[{"start":{"row":297,"column":22},"end":{"row":297,"column":23},"action":"insert","lines":["u"],"id":246}],[{"start":{"row":297,"column":23},"end":{"row":297,"column":24},"action":"insert","lines":["n"],"id":247}],[{"start":{"row":297,"column":24},"end":{"row":297,"column":25},"action":"insert","lines":["t"],"id":248}],[{"start":{"row":297,"column":25},"end":{"row":297,"column":26},"action":"insert","lines":[" "],"id":249}],[{"start":{"row":297,"column":26},"end":{"row":297,"column":27},"action":"insert","lines":["="],"id":250}],[{"start":{"row":297,"column":27},"end":{"row":297,"column":28},"action":"insert","lines":[" "],"id":251}],[{"start":{"row":297,"column":28},"end":{"row":297,"column":29},"action":"insert","lines":["9"],"id":252}],[{"start":{"row":297,"column":28},"end":{"row":297,"column":29},"action":"remove","lines":["9"],"id":253}],[{"start":{"row":297,"column":28},"end":{"row":297,"column":29},"action":"insert","lines":["0"],"id":254}],[{"start":{"row":297,"column":29},"end":{"row":297,"column":30},"action":"insert","lines":[";"],"id":255}],[{"start":{"row":297,"column":4},"end":{"row":297,"column":30},"action":"remove","lines":["var participant_count = 0;"],"id":256}],[{"start":{"row":109,"column":0},"end":{"row":109,"column":26},"action":"insert","lines":["var participant_count = 0;"],"id":257}],[{"start":{"row":316,"column":11},"end":{"row":321,"column":31},"action":"remove","lines":[" /*var remoteVideoOptions = '<div class=\"remote_video_options center-block\">' +","                    '<button id=\"set-video-' + peer.stream.id + '\" class=\"btn btn-small set-video\">Set as Main Video</button>' +","                    '<button class=\"btn btn-small full-screen\"><i class=\"fa fa-arrows-alt\" aria-hidden=\"true\"></i></button>' +","                    '<input class=\"participant_id\" type=\"hidden\" value=\"' + participant_count + '\"/>' +","                    '<input class=\"stream_id\" type=\"hidden\" value=\"' + webrtc.getDomId(peer) + '\">' +","                    '</div>';*/"],"id":258}],[{"start":{"row":316,"column":11},"end":{"row":317,"column":11},"action":"remove","lines":["","           "],"id":259}],[{"start":{"row":315,"column":42},"end":{"row":315,"column":43},"action":"remove","lines":["l"],"id":260}],[{"start":{"row":315,"column":41},"end":{"row":315,"column":42},"action":"remove","lines":["E"],"id":261}],[{"start":{"row":313,"column":20},"end":{"row":314,"column":16},"action":"remove","lines":["","                "],"id":262}],[{"start":{"row":393,"column":4},"end":{"row":405,"column":7},"action":"remove","lines":["$('body').on('click','#reset-video-'+peer.stream.id,function(){","       console.log('Resetting Video'); ","       ","       //$('#localVideoEl').show();","       //$('#remote-'+peer.stream.id).remove();","       $(this).attr('id','set-video-'+peer.stream.id);","       videoTag.srcObject = localStream;","       mainVideo = localStream;","       $(this).text('Set as Main Video');","       //$('#localVideo video').remove();","       //$('#localVideo').append(localStream);","       ","    });"]}],[{"start":{"row":366,"column":14},"end":{"row":391,"column":7},"action":"remove","lines":["$('body').on('click','#set-video-'+peer.stream.id,function () {","    ","                //video.style.height = '640px';","                //video.style.width = '1080px';","                video.id = 'remote-'+peer.stream.id;","                //$('#localVideo video').remove();","                //$('#localVideo').append(video);","                //document.getElementById('localScreen').removeChild(video);","                ","                //$('#localVideoContainer').attr('class','col-xs-9');","                //$('#chat-box-container').attr('class','col-xs-3');","                //$('#localVideoEl').hide();","                //$('#localVideo').append(video);","                //video.clone().appendTo('#localVideo');","                videoTag.srcObject = peer.stream;","                mainVideo = peer.stream;","                ","                $(this).text('Reset Video');","                ","                $(this).attr('id','reset-video-'+peer.stream.id);","                ","                    ","                var remotevideo = $('#remote-'+peer.stream.id).get(0);","                remotevideo.play();","                console.log('Setting as main video');","    });"]}],[{"start":{"row":365,"column":12},"end":{"row":367,"column":4},"action":"remove","lines":["","              ","    "],"id":267}],[{"start":{"row":380,"column":36},"end":{"row":380,"column":41},"action":"remove","lines":["video"],"id":268},{"start":{"row":380,"column":36},"end":{"row":380,"column":53},"action":"insert","lines":["collapseContainer"]}],[{"start":{"row":380,"column":12},"end":{"row":380,"column":55},"action":"remove","lines":["remoteVideo.appendChild(collapseContainer);"],"id":269}],[{"start":{"row":369,"column":12},"end":{"row":370,"column":68},"action":"remove","lines":["$(\"#remoteVideo\").append(collapseContainer);","            //$(\"#remoteVideo-\" + participant_count).prepend(video);"],"id":270},{"start":{"row":369,"column":12},"end":{"row":369,"column":55},"action":"insert","lines":["remoteVideo.appendChild(collapseContainer);"]}],[{"start":{"row":367,"column":12},"end":{"row":368,"column":73},"action":"remove","lines":["console.log('hasAudio: '+JSON.stringify(mediaOptions.audio));","            console.log('hasVideo: '+JSON.stringify(mediaOptions.video));"],"id":271}],[{"start":{"row":365,"column":12},"end":{"row":367,"column":12},"action":"remove","lines":["","    ","            "],"id":272}],[{"start":{"row":375,"column":12},"end":{"row":376,"column":12},"action":"remove","lines":["","            "],"id":273}],[{"start":{"row":366,"column":34},"end":{"row":366,"column":35},"action":"remove","lines":["d"],"id":274}],[{"start":{"row":366,"column":33},"end":{"row":366,"column":34},"action":"remove","lines":["l"],"id":275}],[{"start":{"row":366,"column":32},"end":{"row":366,"column":33},"action":"remove","lines":["i"],"id":276}],[{"start":{"row":366,"column":31},"end":{"row":366,"column":32},"action":"remove","lines":["h"],"id":277}],[{"start":{"row":366,"column":30},"end":{"row":366,"column":31},"action":"remove","lines":["C"],"id":278}],[{"start":{"row":366,"column":12},"end":{"row":366,"column":23},"action":"remove","lines":["remoteVideo"],"id":279},{"start":{"row":366,"column":12},"end":{"row":366,"column":13},"action":"insert","lines":["$"]}],[{"start":{"row":366,"column":13},"end":{"row":366,"column":14},"action":"insert","lines":["*"],"id":280}],[{"start":{"row":366,"column":14},"end":{"row":366,"column":16},"action":"insert","lines":["()"],"id":281}],[{"start":{"row":366,"column":13},"end":{"row":366,"column":14},"action":"remove","lines":["*"],"id":282}],[{"start":{"row":366,"column":14},"end":{"row":366,"column":16},"action":"insert","lines":["''"],"id":283}],[{"start":{"row":366,"column":15},"end":{"row":366,"column":16},"action":"insert","lines":["#"],"id":284}],[{"start":{"row":366,"column":16},"end":{"row":366,"column":17},"action":"insert","lines":["r"],"id":285}],[{"start":{"row":366,"column":17},"end":{"row":366,"column":18},"action":"insert","lines":["e"],"id":286}],[{"start":{"row":366,"column":18},"end":{"row":366,"column":19},"action":"insert","lines":["m"],"id":287}],[{"start":{"row":366,"column":19},"end":{"row":366,"column":20},"action":"insert","lines":["o"],"id":288}],[{"start":{"row":366,"column":20},"end":{"row":366,"column":21},"action":"insert","lines":["t"],"id":289}],[{"start":{"row":366,"column":21},"end":{"row":366,"column":22},"action":"insert","lines":["e"],"id":290}],[{"start":{"row":366,"column":22},"end":{"row":366,"column":23},"action":"insert","lines":["V"],"id":291}],[{"start":{"row":366,"column":23},"end":{"row":366,"column":24},"action":"insert","lines":["i"],"id":292}],[{"start":{"row":366,"column":24},"end":{"row":366,"column":25},"action":"insert","lines":["d"],"id":293}],[{"start":{"row":366,"column":25},"end":{"row":366,"column":26},"action":"insert","lines":["e"],"id":294}],[{"start":{"row":366,"column":26},"end":{"row":366,"column":27},"action":"insert","lines":["o"],"id":295}],[{"start":{"row":336,"column":56},"end":{"row":336,"column":57},"action":"remove","lines":["3"],"id":296},{"start":{"row":336,"column":56},"end":{"row":336,"column":57},"action":"insert","lines":["4"]}],[{"start":{"row":429,"column":12},"end":{"row":429,"column":13},"action":"insert","lines":["/"],"id":297}],[{"start":{"row":429,"column":13},"end":{"row":429,"column":14},"action":"insert","lines":["/"],"id":298}],[{"start":{"row":429,"column":42},"end":{"row":430,"column":0},"action":"insert","lines":["",""],"id":299},{"start":{"row":430,"column":0},"end":{"row":430,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":430,"column":12},"end":{"row":433,"column":55},"action":"insert","lines":["var remote_video_id = $('#container_' + webrtc.getDomId(peer)).parent().attr('id');","            var participant_id = $(video).siblings('.participant_id').val();","            console.log('participant_id: '+participant_id);","            $('#remoteVideo-'+participant_id).remove();"],"id":300}]]},"ace":{"folds":[{"start":{"row":1150,"column":51},"end":{"row":1183,"column":0},"placeholder":"..."}],"scrolltop":5528.5,"scrollleft":0,"selection":{"start":{"row":436,"column":46},"end":{"row":436,"column":46},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":393,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1494337882226}